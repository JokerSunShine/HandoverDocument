---
作者: Joker_Sun
创建时间: 2024-03-05 16:41:26
修改时间: 2024-03-05 16:41:26 
--- 

# 开发时间段
SVN：2022/1/9 ~ now

# 客户端内容
这里的网络消息构建是通过 XML 和 Proto 进行构建 Lua 的方便调用的网络消息体
这里只讲原理，剩下的自己看索引代码

## XML 的作用
xml 是用于定义消息体

| xml 字段名 | 意义                                   |
| ---------- | -------------------------------------- |
| id         | 消息id                                 |
| type       | 消息的发送对象，用于表示是发送还是接收 |
| class      | 以 Message 后缀结尾的消息名            |
| proto      | 表示是否包含消息数据包                 |
| desc       | 消息名，用于表示消息的作用             |
| 子 proto   | proto 下的数据结构对象                 |

## Proto 的作用
proto 简单来说就是个服务器和客户端交互时的数据结构，也就是说的话的内容，而上面的 xml 定义了消息说什么话

| proto 功能 | 意义                  |
| ---------- | --------------------- |
| import     | 表示需要引用哪些proto |
| message    | 消息体                |

其中所有的数据结构都在这里进行定义

## 处理入口
![[Pasted image 20240307135614.png]]

## 代码目录详情
![[Pasted image 20240307140700.png]]

## 逻辑处理方式
这里的消息生成方式简单理解为读取 xml 文件和 proto 文件，解析并提取 Xml 和 proto 的关键字，然后将这些关键字按照 Lua 的代码结构创建对应的 Lua 代码内容，然后 Lua 消息，只需要学习下<font color="#ffc000">正则表达式</font>即可



